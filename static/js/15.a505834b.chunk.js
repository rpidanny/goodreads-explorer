(this["webpackJsonpgoodreads-explorer"]=this["webpackJsonpgoodreads-explorer"]||[]).push([[15,21],{202:function(e,t,a){e.exports=a.p+"static/media/good_reads_explorer.eff85db6.png"},265:function(e,t,a){"use strict";a.r(t);var n=a(44),r=a(45),s=a(48),l=a(47),o=a(1),c=a.n(o),i=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={hasError:!1},r}return Object(r.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log("Error",e,t)}},{key:"render",value:function(){return this.state.hasError?c.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(o.Component);t.default=i},329:function(e,t,a){},373:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAAAAACMIRMSAAAAmElEQVR4AX2RwQ4EIQhD/f9ftYW7p6U0buYiEmLG5fGUXRlELda2eyEJ6mDFea36Kf8RZ1egUjFTOFTtn4RSFN6Uu7Pq0bu7iFx8U/ZEh3yyyEk1fFIy+CXiXB+Ve3TdGVxuN6XTeRo0Y6d38aMLH8ZvtBXjDK/BtayAreM0dBdXZqcsdq+cJv/9f/3l286UK68zZVKX6V0/HECKK51+49AAAAAASUVORK5CYII="},374:function(e,t,a){},609:function(e,t,a){"use strict";a.r(t);var n=a(44),r=a(45),s=a(22),l=a(48),o=a(47),c=a(1),i=a.n(c),u=a(25),m=a(593),d=a(132),p=a(128),h=a(12),f=a(589),E=a(608),g=a(138),b=a(26),v=a(600),k=a(592),y=(a(329),v.a.Meta),A=function(e){return i.a.createElement(v.a,{bordered:!1,className:"userCard"},i.a.createElement(y,{avatar:i.a.createElement(k.a,{src:e.user.image,size:"large"}),title:i.a.createElement("a",{href:e.user.link,target:"_blank",rel:"noopener noreferrer"},e.user.name),description:e.user.description.length>160?"".concat(e.user.description.slice(0,160),"..."):e.user.description,className:"userCardMeta"}))},O=a(265),S=a(373),C=a.n(S),D=a(202),I=a.n(D),K=(a(374),Object(c.lazy)((function(){return Promise.all([a.e(1),a.e(5),a.e(10),a.e(14)]).then(a.bind(null,605))}))),M=Object(c.lazy)((function(){return Promise.all([a.e(1),a.e(5),a.e(2),a.e(8),a.e(13)]).then(a.bind(null,604))})),j=Object(c.lazy)((function(){return Promise.all([a.e(1),a.e(2),a.e(12),a.e(18)]).then(a.bind(null,598))})),x=f.a.SubMenu,z=E.a.Content,U=E.a.Sider,N={getUserInfo:h.d,getUserData:h.b},R=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={openMenuKeys:["viz"]},console.log("Init Settings",r.state.graphSettings),console.log("props",r.props),r.handleMenuOpenChange=r.handleMenuOpenChange.bind(Object(s.a)(r)),r.rootSubmenuKeys=["viz","shelves"],r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserData(this.props.match.params.userId)}},{key:"handleMenuOpenChange",value:function(e){var t=this,a=e.find((function(e){return-1===t.state.openMenuKeys.indexOf(e)}));-1===this.rootSubmenuKeys.indexOf(a)?this.setState({openMenuKeys:e}):this.setState({openMenuKeys:a?[a]:[]})}},{key:"render",value:function(){var e=this.props.userData;return i.a.createElement(O.default,null,i.a.createElement(E.a,{className:"dashboard"},i.a.createElement(E.a,null,i.a.createElement(U,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)},className:"sider",width:270},i.a.createElement("div",{className:"sider-inner"},i.a.createElement("div",{className:"logo",style:{padding:"10px",background:"#fff"}},i.a.createElement(m.a,{to:"/"},i.a.createElement("img",{src:I.a,width:"250px",alt:"Goodreads"}))),B(e),V(this))),i.a.createElement(E.a,null,i.a.createElement(z,{className:"mainContent",style:{backgroundImage:{bgImage:C.a},padding:0,margin:0,height:"100%"}},w(this))))))}}]),a}(c.Component),w=function(e){var t=e.props.userData;if(e.props.userData)return i.a.createElement(d.a,null,i.a.createElement(p.a,{exact:!0,path:"/user/:userId/viz/rgraph",render:function(t){return i.a.createElement(c.Suspense,{fallback:i.a.createElement(b.a,null)},i.a.createElement(K,{userData:e.props.userData}))}}),i.a.createElement(p.a,{exact:!0,path:"/user/:userId/viz/stats",render:function(t){return i.a.createElement(c.Suspense,{fallback:i.a.createElement(b.a,null)},i.a.createElement(M,{userData:e.props.userData}))}}),i.a.createElement(p.a,{exact:!0,path:"/user/:userId/shelf/:shelf",render:function(e){return X(t,e.match.params.shelf)}}))},B=function(e){return e?i.a.createElement(A,{user:{name:e.name||"",userName:e.user_name||"",image:e.image_url||"",link:e.link,description:"string"===typeof e.about?e.about:"Last active: ".concat(e.last_active)}}):i.a.createElement(A,{user:{name:"",userName:"",image:"",description:""}})},V=function(e){var t=e.props.userData;return t?(console.log(t),i.a.createElement(f.a,{mode:"inline",openKeys:e.state.openMenuKeys,defaultSelectedKeys:["stats"],style:{borderRight:0},theme:"light",onOpenChange:e.handleMenuOpenChange},i.a.createElement(x,{key:"viz",title:i.a.createElement("span",null,i.a.createElement(g.a,{type:"global"}),"Visualizations")},i.a.createElement(f.a.Item,{key:"stats"},i.a.createElement(m.a,{to:"/user/".concat(t.id,"/viz/stats")},"Statistics")),i.a.createElement(f.a.Item,{key:"rgraph"},i.a.createElement(m.a,{to:"/user/".concat(t.id,"/viz/rgraph")},"Relationship Graph"))),i.a.createElement(x,{key:"shelves",title:i.a.createElement("span",null,i.a.createElement(g.a,{type:"book"}),"Shelves")},t.user_shelves.map((function(e,a){return i.a.createElement(f.a.Item,{key:a},i.a.createElement(m.a,{to:"/user/".concat(t.id,"/shelf/").concat(e.name)},"".concat(e.name," (").concat(e.books.book?e.books.book.length||1:0,")")))}))))):i.a.createElement("div",null)},X=function(e,t){if(e){var a=e.user_shelves.find((function(e){return e.name===t}));if(a){var n=a.books;return n.book?(n=n.book.length?n.book:[n.book],i.a.createElement(c.Suspense,{fallback:i.a.createElement(b.a,null)},i.a.createElement(j,{books:n,title:a.name.toUpperCase()}))):i.a.createElement("div",null)}return i.a.createElement("div",{style:{padding:20}},i.a.createElement("p",null,"Bookshelf doesn't exist."))}return i.a.createElement("div",null)};t.default=Object(u.b)((function(e){return{userInfo:e.dashboard.userInfo,userData:e.dashboard.userData}}),N)(R)}}]);
//# sourceMappingURL=15.a505834b.chunk.js.map